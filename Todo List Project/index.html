<!DOCTYPE html>
<html>
  <head>
    <title>Todo List</title>
    <style>
      .add-button3 {
        cursor: pointer;
      }
      .alert-text {
        color: red;
      }
    </style>
  </head>
  <body>
    <div class="element-wrapper">
      <p>Todo List Practice 1</p>
      <input 
        class="todo-input1"
        id="js-todo-input1"
        placeholder="Todo name"
        onclick="renderList1();"
        onkeydown="handleEnter1(event);"
      >
      <button class="add-button1">Add</button>
    </div>
    <div class="element-wrapper">
      <p>Todo List Practice 2</p>
      <input 
        class="todo-input2"
        id="js-todo-input2"
        placeholder="Todo name"
        onclick="renderList2();"
        onkeydown="handleEnter2(event);"
      >
      <button class="add-button2">Add</button>
      <p class="todo-list2"></p>
    </div>
    <div class="element-wrapper3">
      <p>Todo List</p>
      <input 
        class="todo-input3"
        id="js-todo-input3"
        placeholder="Todo name"
        onkeydown="handleEnter3(event);"
      >
      <input type="date" class="time-input3">
      <button 
        class="add-button3"
        onclick="renderList3();"
      >
        Add
      </button>
      <p class="todo-list3"></p>
    </div>
    <script>
      let todoList1 = [];
      function renderList1(){
        const inputElement = document.querySelector('.todo-input1');
        if (inputElement.value !== ''){
          todoList1.push(inputElement.value);
        }
        inputElement.value = '';
        let displayText = '';
        for (let i = 0; i < todoList1.length; i++){
          displayText += `Todo List:\n${i+1}. ${todoList1[i]}\n`;
        }
        console.log(displayText);
      }
      function handleEnter1(event){
        const inputElement = document.querySelector('.todo-input1');
        if (inputElement.value !== ''){
          if (event.key == 'Enter'){
            renderList1();
          }
        }
      }

      let todoList2 = [];
      function renderList2(){
        const inputElement = document.querySelector('.todo-input2');
        if (inputElement.value !== ''){
          todoList2.push(inputElement.value);
        }
        inputElement.value = '';

        const displayElement = document.querySelector('.todo-list2');
        let HTML = '';
        for (let i = 0; i < todoList2.length; i++){
          const todo = todoList2[i];
          const html = `<p>${todo}</p>`;
          HTML += html;
        }
        displayElement.innerHTML = HTML;
      }
      function handleEnter2(event){
        const inputElement = document.querySelector('.todo-input2');
        if (inputElement.value !== ''){
          if (event.key == 'Enter'){
            renderList2();
          }
        }
      }

      let todoList3 = [];
      let HTML = '';
      const inputElement = document.querySelector('.todo-input3');
      const timeElement = document.querySelector('.time-input3');
      const displayElement = document.querySelector('.todo-list3');
      function renderList3(event){
        let alertTextElement = document.querySelectorAll('.alert-text');
        if ((inputElement.value !== '' && timeElement.value !== '') || event.key == 'Enter'){
          todoList3.push(
            {
              name: inputElement.value,
              dueDate: timeElement.value
            }
          );
          inputElement.value = '';
          timeElement.value = '';
          
          HTML = '';
          for (i = 0; i < todoList3.length; i++){
            const { name } = todoList3[i];
            const { dueDate } = todoList3[i];
            HTML += `
              <p>
                ${name}
                ${dueDate}
                <button onclick="
                  todoList3.splice(${i}, 1);
                  renderList3(event);
                "
                >Delete</button>
              </p>
            `;
          }
          if (alertTextElement){
            alertTextElement.forEach(element => element.remove());
          }
        } else if (alertTextElement.length == 0) {
          HTML += `<p class="alert-text">Please Enter Your Todo Completely!</p>`;
        }
        displayElement.innerHTML = HTML;
        console.log(HTML);
      }
      function handleEnter3(event){
        let alertTextElement = document.querySelectorAll('.alert-text');
        if (event.key == 'Enter'){
          renderList3();
        }
      }
    </script>
  </body>
</html>
